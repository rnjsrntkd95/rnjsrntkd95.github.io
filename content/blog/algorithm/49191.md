---
title: "[그래프] 순위 - Level 3 (프로그래머스)"
date: 2021-06-29 15:06:19
category: algorithm
draft: false
---
>[순위](https://programmers.co.kr/learn/courses/30/lessons/49191)

### 문제 소개
n명의 권투선수가 권투 대회에 참여했고 각각 1번부터 n번까지 번호를 받았습니다. 권투 경기는 1대1 방식으로 진행이 되고, 만약 A 선수가 B 선수보다 실력이 좋다면 A 선수는 B 선수를 항상 이깁니다. 심판은 주어진 경기 결과를 가지고 선수들의 순위를 매기려 합니다. 하지만 몇몇 경기 결과를 분실하여 정확하게 순위를 매길 수 없습니다.

선수의 수 n, 경기 결과를 담은 2차원 배열 results가 매개변수로 주어질 때 정확하게 순위를 매길 수 있는 선수의 수를 return 하도록 solution 함수를 작성해주세요.

## 시나리오
1. 입력 받은 경기 결과를 보기 쉽게 정리한다.
    - 4번이 3번을 이겼으면, 3번은 4번에게 졌다. (wins, loses)
2. 저장된 경기 결과들을 토대로 절대적인 경기 결과를 추가한다. 예를 들어
    - 1번이 2번을 이겼다면, 2번은 1번이 진 3번에게도 진다.
    - 4번이 5번에게 졌다면, 5번은 4번이 이긴 6번에게도 이긴다.

```python
# 아래로 보세요.

## 첫 번째 예시         ## 두 번째 예시
# 제 1 경기 
    3번 (승)            5번 (승)    
    1번 (패)            4번 (패)

# 제 2 경기 
    1번 (승)            4번 (승)
    2번 (패)            6번 (패)

------------          ------------
# 도출된 결과
    3번 (승)            5번 (승)
    2번 (패)            6번 (패)
```

3. 이긴 경기 수와 진 경기 수의 합이 자신을 제외한 n-1과 같다면 모든 선수와 경기를 한 것이다. 즉, 해당 선수의 순위를 확신할 수 있다.

## 문제 풀이

```python
def solution(n, results):
    answer = 0
    wins = [set() for _ in range(n+1)]
    loses = [set() for _ in range(n+1)]
    
    for A, B in results:
        wins[A].add(B)
        loses[B].add(A)

    for i in range(1,n+1):
        for loser in wins[i]:
            loses[loser] |= loses[i]
        for winner in loses[i]:
            wins[winner] |= wins[i]
            
    for w in range(1,len(wins)):
        if len(wins[w]) + len(loses[w]) == n - 1:
            answer += 1

    return answer
```